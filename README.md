# Universal Personal Tutor (UPT)

## Опис проекту
UPT (Universal Personal Tutor) — це Python-додаток, який генерує індивідуальні курси навчання, забезпечує теоретичні матеріали, практичні завдання, а також зберігає прогрес користувача. Основна мета програми — надавати користувачам інтерактивну платформу для навчання.

## Функціонал програми
- Генерація навчального курсу з 5 уроків (теорія і тести).
- Збереження прогресу виконання завдань.
- Відображення правильних та неправильних відповідей у кольорах (зелений/червоний).
- Можливість зберігати курси та прогрес у базі даних.
- Реєстрація API-ключа для доступу до сервісу генерації матеріалів.

## Архітектура даних
1. **course** — зберігає курс у вигляді списку, де кожен елемент — це словник:
   ```json
   [
       {
           "theme": "Тема уроку",
           "theory": "Теоретичний матеріал",
           "practical": "Практичні завдання"
       }
   ]
   ```

2. **progress** — зберігає прогрес користувача:
   ```json
   [
       0,  // Чи почато курс (0 - ні, 1 - так)
       [1, "Відповідь 1"], // Завдання виконано правильно
       [0, "Відповідь 2"]  // Завдання виконано неправильно
   ]
   ```

3. **days** — зберігається теорія коженого дня.
   ```json
   [
       "Теорія першого дня",
       "Теорія другого дня",
       "Теорія третього дня"
   ]
   ```

4. **course** — опис курсу.

5. **key** —  API-ключ.


## База даних

sqlite3 — це стандартний модуль Python для роботи з базою даних SQLite. SQLite — це легка реляційна база даних, яка не вимагає налаштування сервера. Дані зберігаються у вигляді звичайного файлу на диску, і база може використовуватися "з коробки", оскільки модуль sqlite3 входить до стандартної бібліотеки Python.

### Переваги використання SQLite (sqlite3)
- Легка вага і вбудованість:
SQLite не потребує налаштування окремого сервера, вся база зберігається в одному файлі.
Модуль sqlite3 входить до стандартної бібліотеки Python, тому додаткові інсталяції не потрібні.

- Підтримка реляційної моделі:
SQLite підтримує реляційну структуру з таблицями, що ідеально підходить для організації даних у вашому проєкті.

- Сумісність із JSON:
JSON-дані можна зберігати у вигляді тексту в колонках TEXT. Це робить SQLite зручним вибором для роботи з Python, де JSON легко перетворюється з/в словники та списки.

- Легкість у розгортанні:
База даних є файлом, який легко переносити разом із програмою.

- Ефективність:
SQLite добре підходить для невеликих і середніх проєктів, де не потрібні потужні серверні бази, як MySQL чи PostgreSQL.

- Автономність:
Дані можна локально зберігати й обробляти без необхідності мережевого підключення.

### Структура бази даних

Для проєкту базу даних можна організувати у вигляді однієї таблиці, де кожен рядок відповідає унікальному ключу, а значення — це JSON-об’єкт.

- Приклад структури таблиці:
```pythoh
def initialize_database():
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    cursor.execute("""
    CREATE TABLE IF NOT EXISTS data_store (
        id TEXT PRIMARY KEY,
        data TEXT NOT NULL
    )
    """)
    conn.commit()
    conn.close()
```

- Зберігання даних: Дані перетворюються з Python-структур (наприклад, словники або списки) у JSON-рядки за допомогою json.dumps. Потім ці JSON-рядки зберігаються у колонці data.
```python
def save_data(key, value):
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    json_data = json.dumps(value)
    cursor.execute("""
    INSERT OR REPLACE INTO data_store (id, data) VALUES (?, ?)
    """, (key, json_data))
    conn.commit()
    conn.close()
    print(f"Дані успішно збережені для ключа: {key}")
```

Використання: 
```python
save_data(1, api_key)
save_data(2, [1, [1, "Відповіді"], [1, "Відповіді"], [1, "Відповіді"], [1, "Відповіді"], [1, "Відповіді"])
```

- Отримання даних: Дані отримуються у вигляді JSON-рядка з бази, а потім перетворюються назад у Python-структуру за допомогою json.loads.
```python
def get_data(key):
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    cursor.execute("SELECT data FROM data_store WHERE id = ?", (key,))
    row = cursor.fetchone()
    conn.close()
    if row:
        return json.loads(row[0])
    else:
        print(f"Дані для ключа {key} не знайдено.")
        return None
```
Використання:
```python
api_key = get_data(1)
progress = get_data(2)
```

- Ключі для даних: Формат ключів вибрано у вигляді числа. За ключем 1 зберігається api_key (для доступу  до ШІ), за ключем 2 - progress (збереження прогресу курсу, статусу завдань і відповідей), за ключем 3 - course (збереження теми, плану, завдань курсу), за ключем 4 - days (збереження теорії на кожен день)

### Чому саме SQLite?

- Легка інтеграція: Програма працює локально, і SQLite дозволяє зберігати всі дані в одному файлі.
- Підтримка JSON: Зберігання та обробка JSON-даних у SQLite максимально зручна завдяки Python.
- Простота: Модуль sqlite3 не потребує складного налаштування чи окремого сервера.
- Гнучкість: Легко розширити функціонал або змінити структуру даних, якщо це потрібно.

## Особливості запуску
- Якщо при запуску програми відсутня база даних, це означає перший запуск програми. У цьому випадку користувачу буде запропоновано зареєструвати API-ключ. Після цього програма створить `data.db` і збереже API-ключ у ній з ключем доступу `1`.
- Якщо згенерованого курсу не існує, програма не запропонує продовжити курс, а тільки почати новий. Після початку курсу програма згенерує файли курсу та збереже їх у `data.db`.
- Якщо у `progres` перша цифра буде 0 курс не вважається початим. Якщо всі вказівники на виконане завдання будуть 1 — з'явиться повідомлення про закінчення курсу.
- При відсутності з'єднання з Інтернетом з'явиться повідомлення про це.

## Модуль AI
У цьому модулі зберігаються функції для роботи з Штучним інтелектом, а саме `generate`, `generation`, `check_answer`, `generate_theory`, `generation_theory`.
- `generate` - функція для зв'язку зі ШІ, саме ця функція посилає запити і отримує результати.
- `generation` - функція яка генерує сам курс, теми, плани та завдання.
- `check_answer` - функція, яка перевіряє відповіді написані користувачем.
- `generation_theory` - функція яка паралельно генерує теорію на кожен день.
- `generate_theory` - функція яка формує запит для ШІ з темою і планом кожного дня, а також працює з `generate` для генерації тесту.


## Модель даних
### Структура компонентів
```plaintext
+--------------------+            +--------------------+            +--------------------+
|    database.py     |            |      UPT.py        |            |  ui_adaptive2.py   |
|--------------------|     < -    |--------------------|     - >    |--------------------|
| Робота з           |            | Основна логіка     |            | II Вікно           |
| базою даних        |            +--------------------+            +--------------------+
+--------------------+                        
                                             |
                                             v
                                  +--------------------+
                                  |  ui_adaptive1.py   |
                                  |--------------------|
                                  | I Вікно            |
                                  +--------------------+

```

### Модель даних
```plaintext
+-----------------------------------------+                                      +-----------------------------------------+                  +-----------------------------------------+
|                course                   |                                      |               progress                  |                  |                 key                     |
|-----------------------------------------|                                      |-----------------------------------------|                  |-----------------------------------------|  
| [                                       |                                      | [                                       |                  | Зберігання ключа API.                   |
|   {                                     |                                      |   0,                                    |                  +-----------------------------------------+
|     "theme": "Тема",                    |                                      |   [1, "Відповідь 1"],                   |                  
|     "theory": "Теорія",                 |                                      |   [0, "Відповідь 2"]                    |
|     "practical": "Практика"             |                                      | ]                                       |
|   },                                    |       / "theory"                     +-----------------------------------------+
|   ...                                   |    < - - - - - - - - - - - +                
| ]                                       |                            |
+-----------------------------------------+                         +-----------------------------------------+                 
        ^    /"theme", "practical"/                                 |                 days                    |
        |                                                           |-----------------------------------------|             
+-----------------------------------------+     / План на день      | [                                       |                 
|               course                    |           - >           |   "Теорія першого дня",                 |                                     
|-----------------------------------------|                         |   "Теорія другого дня",                 |                
| Згенерований текст курсу                |                         | ]                                       |                  
+-----------------------------------------+                         +-----------------------------------------+                 


```

## Інструкція з встановлення та запуску
1. Встановіть необхідні бібліотеки:
   ```bash
   pip install -r requirements.txt
   ```
2. Запустіть програму:
   ```bash
   python UPT.py
   ```
3. На першому запуску введіть API-ключ та почніть новий курс.


## Висновки
- Universal Personal Tutor (UPT) — це додаток для персоналізованого навчання.
- Ця програма є дуже актуальною в сучасних умовах, адже не потребує особливих умов для навчання, треба лише ноутбук і підключення до Інтернету.
- Для навчання не треба няких додаткових джерел інформації, все необхідне надається зразу.
- Програма навчання охоплює багато матеріалу і вміє підлаштовуватися під особисті потреби кожного користувача.
- Для навчання не потрібно багато часу, достатньо 20-30 хвилин на день.

## Контактна інформація

- Герасимчук Олександр Сергійович
- Група: ІО-25
- Телеграм: @alexgerasym4uk
- Пошта: <alexandrgerasym4uk@gmail.com>
